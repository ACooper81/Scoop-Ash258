{
    "version": "nightly",
    "description": "JDownloader. Download manager.",
    "homepage": "http://jdownloader.org/",
    "license": "Shareware|AGPL-3.0-only",
    "suggest": {
        "Java Runtime Enviroment": "java/oraclejdk"
    },
    "notes": "Dark theme provided by Vinylwalk3r is enabled by default.",
    "url": [
        "http://installer.jdownloader.org/JDownloader.jar",
        "http://jdownloader.org/lib/tpl/arctic/images/favicon.ico#/icon.ico",
        "https://raw.githubusercontent.com/Vinylwalk3r/JDownloader-2-Dark-Theme/master/syntheticaBlackEye.jar",
        "https://raw.githubusercontent.com/Vinylwalk3r/JDownloader-2-Dark-Theme/master/config/cfg/laf/JDDefaultLookAndFeel.json",
        "https://raw.githubusercontent.com/Vinylwalk3r/JDownloader-2-Dark-Theme/master/config/cfg/laf/JDDefaultLookAndFeel.popupborderinsets.json",
        "https://raw.githubusercontent.com/Vinylwalk3r/JDownloader-2-Dark-Theme/master/config/cfg/laf/SyntheticaBlackEyeLookAndFeel.json"
    ],
    "installer": {
        "script": [
            "Set-Content \"$dir\\JDownloader.bat\" '@start javaw.exe -jar \"%~dp0\\JDownloader.jar\" %*' -Encoding ASCII",
            "New-Item \"$dir\\cfg\", \"$dir\\cfg\\laf\", \"$dir\\libs\\laf\" -ItemType Directory -Force | Out-Null",
            "Move-Item \"$dir\\syntheticaBlackEye.jar\" \"$dir\\libs\\laf\" -Force",
            "Move-Item \"$dir\\*.json\" \"$dir\\cfg\\laf\"",
            "$cfgs = @{",
            "    'org.jdownloader.controlling.packagizer.PackagizerSettings.json' = @{ 'packagizerenabled' = $true }",
            "    'org.jdownloader.settings.GraphicalUserInterfaceSettings.json' = @{",
            "        'captchascalefactor' = 200",
            "        'lookandfeeltheme'   = 'BLACK_EYE'",
            "    }",
            "    'org.jdownloader.settings.GeneralSettings.json' = @{",
            "        'maxsimultanedownloadsperhost' = 3",
            "        'maxsimultanedownloads'        = 9",
            "        'maxchunksperfile'             = 4",
            "    }",
            "}",
            "    # Generate config files",
            "foreach ($cf in $cfgs.Keys) { Set-Content \"$dir\\cfg\\$cf\" (ConvertTo-Json $cfgs[$cf]) -Encoding Ascii }"
        ]
    },
    "bin": "JDownloader.bat",
    "shortcuts": [
        [
            "JDownloader.bat",
            "JD",
            "",
            "icon.ico"
        ]
    ],
    "persist": "cfg"
}
