{
    "version": "6.04",
    "description": "Icecream Screen Recorder",
    "homepage": "https://icecreamapps.com/Screen-Recorder/",
    "license": "Proprietary",
    "url": "https://icecreamapps.com/download/screen_recorder_setup.exe",
    "hash": "0f32d407a44f155ab1d9ce4b6f4a7e98c9b4acc6c3e80818d859e14730d0252e",
    "innosetup": true,
    "architecture": {
        "64bit": {
            "installer": {
                "script": "Get-ChildItem $dir '*,2.*' -Recurse | Rename-Item -NewName { $_.FullName -replace ',2\\.', '.' }"
            }
        },
        "32bit": {
            "installer": {
                "script": "Get-ChildItem $dir '*,1.*' -Recurse | Rename-Item -NewName { $_.FullName -replace ',1\\.', '.' }"
            }
        }
    },
    "post_install": "Get-ChildItem \"$dir\\*,[12].*\" -Recurse | Remove-Item -Force -Recurse",
    "uninstaller": {
        "script": [
            "if ($purge) {",
            "    $localIcecream = Join-Path $env:LOCALAPPDATA 'Icecream'",
            "    $appdataIcecream = Join-Path $env:APPDATA 'Icecream'",
            "    $toDelete = @((Join-Path $env:USERPROFILE '.Icecream Screen Recorder'), (Join-Path $localIcecream 'Icecream Screen Recorder'))",
            "    $toDelete += Join-Path $appdataIcecream 'Icecream Screen Recorder'",
            "    $appdataIcecream, $localIcecream | ForEach-Object {",
            "        if ((Get-ChildItem $_ -ErrorAction SilentlyContinue).Count -eq 0) { $toDelete += $_ }",
            "    }",
            "    Remove-Item $toDelete -ErrorAction SilentlyContinue -Recurse",
            "}"
        ]
    },
    "shortcuts": [
        [
            "recorder.exe",
            "Icecream Screen Recorder"
        ]
    ],
    "checkver": {
        "url": "https://icecreamapps.com/Screen-Recorder/changelog.html",
        "regex": ">([\\d.]+)<"
    },
    "autoupdate": {
        "url": "https://icecreamapps.com/download/screen_recorder_setup.exe"
    }
}
