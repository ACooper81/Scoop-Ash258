{
    "version": "2018.07.04",
    "description": "Easy way to get up and running with the TeX document production system.",
    "homepage": "https://www.tug.org/texlive/",
    "url": "http://mirror.ctan.org/systems/texlive/tlnet/install-tl.zip",
    "hash": "d55ef0b0c2e75dfa57d3b3bc5b1ceb22e39bb478b547ec1b2168eca6e683baaf",
    "extract_dir": "install-tl-20180704",
    "extract_to": "cosi",
    "pre_install": [
        "$newDir = $($dir.Path.Replace('\\','/'))",
        "$outFile = \"$dir\\texlive.profile\"",
        "Write-Output \"TEXDIR $newDir\" | Out-File $outFile -Append -Encoding ascii",
        "Write-Output \"TEXMFLOCAL $newDir/texmf-local\" | Out-File $outFile -Append -Encoding ascii",
        "Write-Output \"TEXMFSYSCONFIG $newDir/texmf-config\" | Out-File $outFile -Append -Encoding ascii",
        "Write-Output \"TEXMFSYSVAR $newDir/texmf-var\" | Out-File $outFile -Append -Encoding ascii",
        "Write-Output (New-Object Net.WebClient).DownloadString('https://gist.githubusercontent.com/Ash258/e143436e2f9183a650424d635b535e51/raw/texlive.profile') | Out-File $outFile -Append -Encoding ascii"
    ],
    "installer": {
        "file": "cosi\\install-tl-advanced.bat",
        "args": [
            "-portable",
            "-no-gui",
            "-profile $dir\\texlive.profile"
        ]
    },
    "persist": [
        "texmf-config",
        "texmf-dist",
        "texmf-local",
        "texmf-var"
    ],
    "post_install": "Remove-Item $dir\\cosi -Force -Recurse",
    "env_add_path": "$dir\\bin\\win32",
    "checkver": {
        "url": "http://mirrors.nic.cz/tex-archive/systems/texlive/tlnet",
        "re": "install-tl\\.zip</a></td>.*((\\d{4})-(\\d+)-(\\d+))",
        "replace": "$2.$3.$4"
    },
    "autoupdate": {
        "url": "http://mirror.ctan.org/systems/texlive/tlnet/install-tl.zip",
        "extract_dir": "install-tl-$cleanVersion"
    }
}
